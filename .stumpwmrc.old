(in-package :stumpwm)

;; Load swank.
(load "/home/jvanwink/.emacs.d/slime/swank-loader.lisp")
(swank-loader:init)
(define-stumpwm-command "swank" ()
  (setf stumpwm:*top-level-error-action* :break)
  (swank:create-server :port 4010
                       :style swank:*communication-style*
                       :dont-close t)
  (echo-string (current-screen) "Starting swank."))
(define-key *root-map* (kbd "C-s") "swank")  

; Jump to group

(define-key *top-map* (kbd "s-1") "gselect 1")
(define-key *top-map* (kbd "s-2") "gselect 2")
(define-key *top-map* (kbd "s-1") "gselect 1")
(define-key *top-map* (kbd "s-2") "gselect 2")
(define-key *top-map* (kbd "s-3") "gselect 3")
(define-key *top-map* (kbd "s-4") "gselect 4")
(define-key *top-map* (kbd "s-5") "gselect 5")
(define-key *top-map* (kbd "s-6") "gselect 6")
(define-key *top-map* (kbd "s-7") "gselect 7")
(define-key *top-map* (kbd "s-8") "gselect 8")
(define-key *top-map* (kbd "s-9") "gselect 9")
(define-key *top-map* (kbd "s-0") "gselect 10")

; Next frame
(define-key *top-map* (kbd "s-o") "fnext")

; Show date
(define-key *top-map* (kbd "s-d") "echo-date")

(set-border-color "Red")

; Set background
(run-shell-command "exec hsetroot -fill /home/jvanwink/01662_lulworthcove_1920x1200.jpg")

; Next Screen
(define-key *top-map* (kbd "s-space") "snext")


;; Load xscreensaver
;(defvar *loadtime* nil)
;(unless *loadtime*
;;(run-shell-command "exec conky -a top_right")
;(run-shell-command "exec xscreensaver")
;(setf *loadtime* t))


